"use strict";function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function idNum(t){for(var e="",n=0;n<4;n++)e+=t%10,t=parseInt(t/10);return e.split("").reverse().join("")}function clearStyle(){for(var t=0;t<$(".screen").children().children().length;t++)t%2==0&&($(".screen").children().children()[t].className="btn btn-default dropdown-toggle",$($(".screen").children().children()[t]).children()[0].className="glyphicon glyphicon-menu-down")}function getScreen(t,e,n){for(var a=0;a<t.length;a++){e=$("<li><a href='#' title=".concat(t[a],">").concat(t[a],"</a></li>\n\t\t\t\t\t\t<li role='separator' class='divider'></li>"));$("#"+n).append(e)}}function getPhoto(t){for(var n=[],a=[],o=[],c=t.detail,e=function(r){var e,i=idNum(c[r].id);(e=i,new Promise(function(n,t){$.ajax({url:"php/showList.php",type:"get",dataType:"json",async:!0,data:{id:e}}).done(function(t){t.detail.splice(0,2);var e=t.detail;n(e)})})).then(function(t){var e="./images/"+i+"/"+t[0],n=$("<div id='list' class='list'>\n\t\t\t\t\t<div id='picture' class='playAuto'>\n\t\t\t\t\t\t<a href='detail.html?id=".concat(i,"' title='").concat(c[r].mc,"'><img src=").concat(e," alt=").concat(c[r].mc,"></a>\n\t\t\t\t\t\t<button type='button' id='examine' class='examine btn' data-toggle='modal' data-target='.bs-example-modal-lg'>快速查看<i class='glyphicon glyphicon-plus'></i></button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<span>\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t<a href='#' title='").concat(c[r].mc,"'>").concat(c[r].mc,"</a>\n\t\t\t\t\t\t\t<span class='AshopId' style='display:none'>").concat(c[r].id,"</span>\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<p>¥ <span>").concat(c[r].price,"</span></p>\n\t\t\t\t\t</span>\n\t\t\t\t</div>"));getExamine();for(var a=1;a<t.length;a++)t[a];$("#products").append(n)}),n.push(t.detail[r].category),a.push(t.detail[r].color),o.push(t.detail[r].size)},r=0;r<c.length;r++)e(r);var i=_toConsumableArray(new Set(n));a=a.join("&").split("&");var l=_toConsumableArray(new Set(a));l=l.join(",").replace(" , ",",").trim().split(","),l=_toConsumableArray(new Set(l));var s=_toConsumableArray(new Set(o));s=s.join("&").split("&"),$("#category").html(""),$("#size").html(""),$("#color").html(""),getScreen(i,"$categoryLi","category"),getScreen(l,"$colorLi","color"),getScreen(s,"sizeLi","size")}function getExamine(){$(".products .examine").css({display:"none"}),$(".products").on("mouseover",".list",function(){$(this.children[0].children[1]).show()}),$(".products").on("mouseout",".list",function(){$(this.children[0].children[1]).hide()})}getExamine();